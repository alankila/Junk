<html>
<head>
<title>Landscape rendering experiment</title>

<script id="shader-fs" type="x-shader/x-fragment"> 
#ifdef GL_ES
precision highp float;
#endif

uniform float aTime;

/* Our x, y coordinate pair */
varying vec2 position;
 
void main(void) {
    vec2 cc = position
                * (pow(2., 1. - sin(aTime/10.)) - 1.)
                + vec2(-0.81, 0.205);
    vec2 z = vec2(0, 0);
    for (int i = 0; i < 256; i ++) {
        float xtemp = z.x * z.x - z.y * z.y + cc.x;
        z.y = 2.0*z.x*z.y + cc.y;
        z.x = xtemp;

        float nl = z.x * z.x + z.y * z.y;
        if (nl > 4.0) {
            float c = sqrt(float(i) / 255.0);
            gl_FragColor = vec4(c, c, c, 1.0);
            return;
        }
    }
    gl_FragColor = vec4(0., 0., 0., 1.);
}
</script> 

<script id="shader-vs" type="x-shader/x-vertex"> 
attribute vec3 aVertexPosition;

varying vec2 position;

void main(void) {
    gl_Position = vec4(aVertexPosition, 1.0);
    position = gl_Position.xy;
}
</script> 

<script type="text/javascript" src="webgl.js"></script>
</head>
<body>

<canvas id="canvas" width="512" height="512"></canvas>

</body>
</html>
